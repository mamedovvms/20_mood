<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Настроение</title>
  <link href="static/css/index.css" rel="stylesheet">
  <script id="quotes_json" type="application/json">
    [
      {
        "phrase": "Кукурузные хлопья - теперь без асбеста!",
        "signature": "©Неизвестный маркетолог"
      },
      {
        "phrase": "Собираюсь жить вечно, пока всё идёт нормально"
      },
      {
        "phrase": "Вывеска над кафе — '\u003cМы открылись\u003e'. Что-то не так. Где же '\u003c/Мы открылись\u003e'?"
      },
      {
        "phrase": "Если ты будешь усердно работать по 8 часов в день, то обязательно станешь боссом и начнешь работать по 12"
      }
    ]
  </script>
</head>
<body>
  <div id="header" class="header">
    <img src="static/images/header.png"/>
  </div>
  <div id="content" class="content">
    <div id="greeting" class="greeting">
      Здравствуйте.<br>Мы рады приветствовать Вас на нашем сайте хорошего настроения.
    </div>

    <div id="billboard" class="billboard">
      <div id="phrase" class="phrase">
      </div>
      <div id="signature" class="signature">
      </div>
    </div>

  </div>
  <script>
    function fill_block(key, value){
      block = document.getElementById(key)
      block.innerHTML = value.replace(/&/g, "&amp;").replace(/>/g, "&gt;").replace(/</g, "&lt;").replace(/"/g, "&quot;");
    }

    json_data = document.getElementById('quotes_json').innerHTML
    list_quotes = JSON.parse(json_data)
    randomIndex = Math.floor(Math.random() * list_quotes.length)

    quote = list_quotes[randomIndex]
    for (key in quote){
      fill_block(key, quote[key])
    }

  </script>
</body>
</html>
